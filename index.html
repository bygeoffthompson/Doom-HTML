<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>DOOM Scroll</title>
    <meta name="description" content="DOOM Scroll">
    <meta name="keywords" content="">
    <meta name="author" content="Geoff Thompson">
    <meta property="og:title" content="DOOM Scroll">
    <meta property="og:type" content="website">
    <meta property="og:description" content="DOOM Scroll">
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
<h1>
    <span class="doom-left">Do</span>
    <span class="doom-right">oM</span>
    <span class="scroll-text">SCROLL</span>
</h1>
<div id="viewport">
    <div id="env">
        <div id="top"></div>
        <div id="middle">
            <div class="wall" id="left-wall"></div>
            <div class="right wall" id="right-wall"></div>
        </div>
        <div id="bottom"></div>
    </div>
    <div id="conveyor">
        <a href="https://www.idsoftware.com" id="id" target="_blank">
            <img alt="id Software logo" src="img/id.png" />
        </a>
        <img alt="Enemy IMP" class="imp imp1" id="imp1" src="img/enemies/imp-center-1.png" />
    </div>
 </div>


<script>
  var distance = 0;
  var idStart = 0;
  var impDistance = 0
  var impStart = 0;


  jQuery(document).on('keydown', function(e) {
      if (e.keyCode == 38) {
          // Up arrow key clicks
          distance++
          // The Environment
          var negativeFloor = '-' + distance * 2 + 'px';
          var positiveFloor = distance * 2 + 'px';
          var negativeWall = '-' + distance * 2.66 + 'px';
          var positiveWall = distance * 2.66 + 'px';
          jQuery('#bottom').css('background-position-y', positiveFloor);
          jQuery('#top').css('background-position-y', negativeFloor);
          jQuery('#left-wall').css('background-position-x', negativeWall);
          jQuery('#right-wall').css('background-position-x', positiveWall);

          // The Conveyor
          // id
          if (distance >= 50 && distance < 100) {
              idStart++
              jQuery('#id').css({'opacity': 1, 'margin-top': idStart * .1 + '%', 'max-width': idStart + 'mm'});
          } else if (distance === 100) {
              jQuery('#id').remove();
          }

          // imp1
          if (distance >= 150 && distance <= 250) {
              if (impDistance < 50) {
                  jQuery('#imp1').css({'opacity': 1, 'margin-top': impStart * -.3 + '%', 'max-width': impStart * 2 + '%'});
                  impDistance++
                  impStart++
              } else if (impDistance === 50) {
                  jQuery('#imp1').remove();
              } else if (impDistance === 0) {
                  distance = 150;
              }
          }
          console.log(distance);
          console.log(impDistance);






      } else if (e.keyCode == 40) {
          // Down arrow key clicks
          // The Environment
          distance--
          var negativeFloor = '-' + distance * 2 + 'px';
          var positiveFloor = distance * 2 + 'px';
          var negativeWall = '-' + distance * 2.66 + 'px';
          var positiveWall = distance * 2.66 + 'px';
          jQuery('#bottom').css('background-position-y', positiveFloor);
          jQuery('#top').css('background-position-y', negativeFloor);
          jQuery('#left-wall').css('background-position-x', negativeWall);
          jQuery('#right-wall').css('background-position-x', positiveWall);

          // The Conveyor
          // id
          if (distance >= 51 && distance < 100) {
              idStart--
              jQuery('#id').css({'margin-top': idStart * .1 + '%', 'max-width': idStart + 'mm'});
          }
          // imp1
          if (distance >= 151 && distance <= 250) {
              if (impDistance <= 0) {
                  jQuery('#imp1').css('opacity', 0);
                  distance = 151;
              } else if (impDistance > 0 && impDistance < 50) {
                  jQuery('#imp1').css({'opacity': 1, 'margin-top': impStart * -.3 + '%', 'max-width': impStart * 2 + '%'});
                  impDistance--
                  impStart--
              } else {
                  jQuery('#imp1').remove();
              }
          } else if (distance <= 150) {
              distance = 150;
              impDistance = 0;
          }
          console.log(distance);
          console.log(impDistance);



      }
  });
</script>
</body>
</html>
